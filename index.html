<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Location Redirect</title>
</head>
<body>
    <script>

        // set the name var to unknow OS first
        var name = "Unknown OS";
        
        // function to get the OS of the user and display welcome message
        function getOS() {
            // 1: not share info
            if (navigator.appVersion.indexOf("Win") != -1) {
                name = "Windows user!";
                alert("Welcome " + name);
            }
            else if (navigator.appVersion.indexOf("Mac") !=-1) {
                name = "Mac user!";
                alert("Welcome " + name);
            }
        }
        
        // function to get the location from your window
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);} 
            else { 
                alert( "Geolocation is not supported by this browser.");
            }
        }
        
        // function to display position and decide where you are at
        function showPosition(position) {
            var lat =  position.coords.latitude;
            var long = position.coords.longitude;
            console.log(long);
            // assume -100 is the divider of WestCoast and East Coast
            // NY long = -74, Los Angeles long = -118
            if (long < -100) {
                window.location.href = "western.html";
                alert ("You are in the West Coast!");
            }
            else {
                window.location.href = "eastern.html";
                alert ("You are in the East Coast!");
            }
        }
        
        // Call the getOS function
        getOS();
        // Call the getLocation function
        getLocation();

    



    </script>




    </script>
    
</body>
</html>